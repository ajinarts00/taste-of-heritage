<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Taste of Heritage — ASEAN Recipes Archive</title>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;700&family=Open+Sans:wght@300;400;600&display=swap" rel="stylesheet">

  <style>
    :root{
      --beige:#f5f0e1;
      --brown:#8c4a1f;
      --green:#5b7052;
      --text:#333;
      --muted:#7a6a5b;
      --heading:'Playfair Display', serif;
      --body:'Open Sans', sans-serif;
    }
    *{box-sizing:border-box}
    body{
      font-family:var(--body);
      background:var(--beige);
      color:var(--text);
      margin:0;
      line-height:1.5;
    }
    header, footer{background:var(--brown); color:#fff; text-align:center; padding:18px 14px}
    header h1{font-family:var(--heading); margin:0; font-size:28px}
    header p{margin:6px 0 0; color:#fff9ea}
    nav{background:var(--green); display:flex; flex-wrap:wrap; gap:8px; justify-content:center; padding:10px}
    nav a{color:#fff; text-decoration:none; font-weight:600; padding:8px 12px; border-radius:6px}
    nav a:hover{opacity:.9; text-decoration:underline}
    .container{max-width:1100px; margin:22px auto; padding:0 18px}
    .row{display:flex; gap:18px; flex-wrap:wrap}
    .panel{background:#fffaf3; border-left:6px solid var(--green); padding:16px; border-radius:8px}
    main section{margin-bottom:28px}
    h2,h3{font-family:var(--heading); color:var(--brown)}
    h2{font-size:22px}
    h3{font-size:18px; margin:12px 0}
    ul,ol{margin:8px 0 12px 22px}
    .small{color:var(--muted); font-size:13px}
    .lang-switch{display:flex; justify-content:flex-end; gap:8px; padding:8px 0; align-items:center}
    select,input,textarea{font-family:var(--body); padding:8px; border-radius:6px; border:1px solid #d7d0c5}
    input[type="file"]{padding:4px}
    button{background:var(--green); color:#fff; border:none; padding:8px 14px; border-radius:6px; cursor:pointer}
    button.secondary{background:#8c4a1f}
    .grid-2{display:grid; grid-template-columns:1fr 360px; gap:18px}
    @media (max-width:980px){.grid-2{grid-template-columns:1fr}}
    .dish{margin-bottom:14px}
    .dish .meta{font-weight:600; color:var(--green); margin-bottom:6px}
    .map{background:#efe8da; padding:12px; border-radius:8px; border:1px solid #e0d7c8}
    .forum-post{background:#ffffffcc; padding:10px; border-radius:6px; margin-bottom:10px; border-left:4px solid var(--green)}
    footer p{margin:6px 0; font-size:14px}
    .recipe-image-preview{max-width:100%; border-radius:6px; margin-top:8px}
    .country-nav{display:flex; flex-wrap:wrap; gap:6px}
    .country-nav a{background:#fff; padding:6px 8px; border-radius:6px; color:var(--brown); text-decoration:none; border:1px solid #e5ddd2}
    .note{font-size:13px; color:var(--muted)}
    /* recipe-of-week */
    #recipe-of-week{display:flex; gap:14px; align-items:flex-start; padding:14px}
    #recipe-of-week img{max-width:180px; border-radius:8px; border:1px solid #e0d7c8}
    /* compact lists for nav */
    .toc {display:flex; gap:8px; flex-wrap:wrap}
    .toc a{background:#fffaf3; padding:6px 10px; border-radius:6px; border:1px solid #e8dfcf; color:var(--brown); text-decoration:none}
  </style>
</head>
<body>
  <header>
    <h1>Taste of Heritage</h1>
    <p class="small">Preserving ASEAN traditional recipes • Teaching step-by-step • Community sharing — No login required</p>
  </header>

  <nav>
    <a href="#home">Home</a>
    <a href="#recipe-of-week">Recipe of the Week</a>
    <a href="#map">Interactive Map</a>
    <a href="#submit">Share Recipe</a>
    <a href="#forum">Community Forum</a>
    <a href="#challenge">Recipe Revival</a>
  </nav>

  <div class="container">
    <!-- Language switch -->
    <div class="lang-switch">
      <label class="small" for="lang">Language</label>
      <select id="lang" title="Language switch (placeholder)">
        <option value="en">English</option>
        <option value="ms">Bahasa Melayu</option>
        <option value="zh">中文</option>
        <option value="tl">Tagalog</option>
        <option value="th">ไทย</option>
        <option value="id">Bahasa Indonesia</option>
      </select>
    </div>

    <!-- HOME -->
    <main id="home">
      <section class="panel" aria-labelledby="welcome">
        <h2 id="welcome">Welcome — Taste of Heritage</h2>
        <p class="small">This archive records and celebrates traditional recipes across ASEAN. Each recipe includes ingredients and clear step-by-step instructions so younger generations can recreate and keep culinary traditions alive.</p>
      </section>

      <!-- Recipe of the Week -->
      <section id="recipe-of-week" class="panel" aria-labelledby="rot">
        <div style="flex:1">
          <h2 id="rot">🌟 Recipe of the Week</h2>
          <h3 id="rot-title">Tom Yum Goong — Thailand</h3>
          <p><strong>Main ingredients:</strong> Shrimp, lemongrass, kaffir lime leaves, galangal, chillies, fish sauce, lime juice, mushrooms.</p>
          <p class="note">Why it's special: Balanced hot-sour-savory soup that showcases Thai aromatics.</p>
          <p><a href="#thailand">See more Thai recipes ↓</a></p>
        </div>
        <div>
          <img src="https://via.placeholder.com/220x140.png?text=Tom+Yum" alt="Tom Yum" />
        </div>
      </section>

      <!-- Map (simplified interactive) -->
      <section id="map" class="panel">
        <h2>Interactive Regional Map</h2>
        <p class="small">Click a country to jump to its recipes (simple navigation for this single-file demo).</p>
        <div class="map">
          <div class="country-nav">
            <a href="#indonesia">Indonesia</a>
            <a href="#malaysia">Malaysia</a>
            <a href="#philippines">Philippines</a>
            <a href="#thailand">Thailand</a>
            <a href="#vietnam">Vietnam</a>
            <a href="#singapore">Singapore</a>
            <a href="#laos">Laos</a>
            <a href="#cambodia">Cambodia</a>
            <a href="#myanmar">Myanmar</a>
            <a href="#brunei">Brunei</a>
          </div>
          <p class="small" style="margin-top:8px">(For an advanced map: later we can integrate Leaflet or amCharts to show clickable regions.)</p>
        </div>
      </section>

      <!-- large grid: left main content / right sidebar -->
      <div class="grid-2">
        <div>

          <!-- RECIPES: For each country include 5 dishes -->
          <!-- ========== INDONESIA ========== -->
          <section id="indonesia" class="panel">
            <h2>🇮🇩 Indonesia — 5 Classic Dishes</h2>

            <article class="dish">
              <div class="meta">Rendang</div>
              <p><strong>Ingredients:</strong> 1kg beef (chunks), 400ml coconut milk, 4 shallots, 4 cloves garlic, 3 red chilies, 2 cm galangal, 1 stalk lemongrass, salt, palm sugar.</p>
              <ol>
                <li>Blend shallots, garlic, chilies, galangal into a smooth paste.</li>
                <li>Sauté paste until fragrant in a little oil.</li>
                <li>Add beef, stir to coat; pour coconut milk and add lemongrass.</li>
                <li>Simmer gently 2–3 hours until sauce reduces and caramelises. Stir occasionally.</li>
                <li>Season with salt and palm sugar. Serve with steamed rice.</li>
              </ol>
            </article>

            <article class="dish">
              <div class="meta">Soto Ayam</div>
              <p><strong>Ingredients:</strong> Chicken, turmeric, lemongrass, garlic, shallot, rice noodles, boiled egg.</p>
              <ol>
                <li>Simmer whole chicken with turmeric, lemongrass, garlic for 30–40 min.</li>
                <li>Remove, shred chicken; strain broth.</li>
                <li>Season broth with salt and pepper; assemble with noodles, shredded chicken, sliced egg.</li>
                <li>Garnish with fried shallots and lime.</li>
              </ol>
            </article>

            <article class="dish">
              <div class="meta">Gado-Gado</div>
              <p><strong>Ingredients:</strong> Boiled vegetables, tofu, tempeh, boiled egg, peanut sauce (peanuts, palm sugar, tamarind).</p>
              <ol>
                <li>Boil an assortment of vegetables (beans, cabbage, potato) until tender.</li>
                <li>Fry tofu/tempeh until golden.</li>
                <li>Blend roasted peanuts, palm sugar, tamarind, chili into sauce.</li>
                <li>Arrange vegetables, pour peanut sauce and serve with krupuk.</li>
              </ol>
            </article>

            <article class="dish">
              <div class="meta">Nasi Goreng</div>
              <p><strong>Ingredients:</strong> Day-old rice, garlic, onion, kecap manis, chili, egg.</p>
              <ol>
                <li>Stir-fry garlic and onion until fragrant.</li>
                <li>Add rice and kecap manis; toss well.</li>
                <li>Push rice aside, scramble egg, then mix together.</li>
                <li>Serve topped with fried shallot and cucumber.</li>
              </ol>
            </article>

            <article class="dish">
              <div class="meta">Ayam Penyet</div>
              <p><strong>Ingredients:</strong> Chicken (marinated), sambal (chili, shrimp paste), rice.</p>
              <ol>
                <li>Marinate chicken with garlic, coriander, salt; fry until cooked.</li>
                <li>Smash (penyet) lightly and serve with freshly made sambal and rice.</li>
              </ol>
            </article>
          </section>

          <!-- ========== MALAYSIA ========== -->
          <section id="malaysia" class="panel">
            <h2>🇲🇾 Malaysia — 5 Classic Dishes</h2>

            <article class="dish">
              <div class="meta">Nasi Lemak</div>
              <p><strong>Ingredients:</strong> Coconut rice, pandan, anchovies, peanuts, sambal.</p>
              <ol>
                <li>Cook rice with coconut milk and pandan leaves.</li>
                <li>Prepare sambal by sautéing shallots, chilies, belacan and sugar.</li>
                <li>Fry anchovies and peanuts; assemble with cucumber and boiled egg.</li>
              </ol>
            </article>

            <article class="dish">
              <div class="meta">Rendang (Malaysian style)</div>
              <p><strong>Ingredients:</strong> Beef, coconut milk, spice paste, turmeric leaf (optional).</p>
              <ol>
                <li>Make spice paste (shallots, garlic, chili, ginger, galangal).</li>
                <li>Cook with beef and coconut milk until sauce reduces and beef tender.</li>
              </ol>
            </article>

            <article class="dish">
              <div class="meta">Laksa (Curry Laksa)</div>
              <p><strong>Ingredients:</strong> Laksa paste, coconut milk, rice noodles, prawns/chicken.</p>
              <ol>
                <li>Fry laksa paste; add coconut milk and stock.</li>
                <li>Cook proteins, add noodles; serve with fresh herbs and lime.</li>
              </ol>
            </article>

            <article class="dish">
              <div class="meta">Char Kway Teow</div>
              <p><strong>Ingredients:</strong> Flat rice noodles, soy sauce, prawns, Chinese sausage, bean sprouts.</p>
              <ol>
                <li>High-heat stir-fry garlic, prawns, sausage.</li>
                <li>Add noodles and seasonings; toss quickly; add bean sprouts last.</li>
              </ol>
            </article>

            <article class="dish">
              <div class="meta">Satay</div>
              <p><strong>Ingredients:</strong> Skewered marinated chicken/beef, peanut sauce.</p>
              <ol>
                <li>Marinate meat in spices and coconut milk; skewer.</li>
                <li>Grill until cooked and brush with marinade.</li>
                <li>Serve with peanut sauce and rice cakes.</li>
              </ol>
            </article>
          </section>

          <!-- ========== PHILIPPINES ========== -->
          <section id="philippines" class="panel">
            <h2>🇵🇭 Philippines — 5 Classic Dishes</h2>

            <article class="dish">
              <div class="meta">Adobo (Chicken or Pork)</div>
              <p><strong>Ingredients:</strong> Meat, soy sauce, vinegar, garlic, bay leaves, pepper.</p>
              <ol>
                <li>Marinate meat in soy, vinegar and garlic 30 mins.</li>
                <li>Simmer meat with marinade and bay leaves until tender.</li>
                <li>Reduce sauce; optionally fry lightly before serving.</li>
              </ol>
            </article>

            <article class="dish">
              <div class="meta">Sinigang</div>
              <p><strong>Ingredients:</strong> Tamarind souring, pork/shrimp, vegetables (radish, spinach).</p>
              <ol>
                <li>Boil protein until tender, add souring base and vegetables.</li>
                <li>Simmer until vegetables cooked; season to taste.</li>
              </ol>
            </article>

            <article class="dish">
              <div class="meta">Lechon Kawali</div>
              <p><strong>Ingredients:</strong> Pork belly, salt, spices; fried until crisp.</p>
              <ol>
                <li>Simmer pork belly with aromatics until tender.</li>
                <li>Dry and deep-fry until crisp; slice and serve with dipping sauce.</li>
              </ol>
            </article>

            <article class="dish">
              <div class="meta">Pancit Canton</div>
              <p><strong>Ingredients:</strong> Egg noodles, vegetables, soy sauce, meat/shrimp.</p>
              <ol>
                <li>Stir-fry aromatics and proteins, add vegetables and pre-cooked noodles.</li>
                <li>Season with soy and a little sesame oil; toss well.</li>
              </ol>
            </article>

            <article class="dish">
              <div class="meta">Halo-Halo (Dessert)</div>
              <p><strong>Ingredients:</strong> Mixed sweet beans, fruits, shaved ice, leche flan, ube.</p>
              <ol>
                <li>Assemble sweetened components in glass, top with shaved ice and leche flan.</li>
                <li>Add evaporated milk and serve cold.</li>
              </ol>
            </article>
          </section>

          <!-- ========== THAILAND ========== -->
          <section id="thailand" class="panel">
            <h2>🇹🇭 Thailand — 5 Classic Dishes</h2>

            <article class="dish">
              <div class="meta">Tom Yum Goong</div>
              <p><strong>Ingredients:</strong> Prawns, lemongrass, galangal, kaffir lime leaves, chili, fish sauce, lime juice, mushrooms.</p>
              <ol>
                <li>Boil water with lemongrass, galangal and kaffir leaves to make broth.</li>
                <li>Add mushrooms and prawns; cook quickly until prawns turn pink.</li>
                <li>Season with fish sauce and lime juice; add chili to taste.</li>
              </ol>
            </article>

            <article class="dish">
              <div class="meta">Pad Thai</div>
              <p><strong>Ingredients:</strong> Rice noodles, tamarind paste, fish sauce, eggs, tofu, prawns.</p>
              <ol>
                <li>Soak noodles; stir-fry tofu and prawns.</li>
                <li>Add noodles and sauce, push aside and scramble egg then mix everything.</li>
                <li>Garnish with crushed peanuts and lime.</li>
              </ol>
            </article>

            <article class="dish">
              <div class="meta">Green Curry (Kaeng Khiao Wan)</div>
              <p><strong>Ingredients:</strong> Green curry paste, coconut milk, chicken, Thai eggplant, basil leaves.</p>
              <ol>
                <li>Fry curry paste with coconut cream until fragrant.</li>
                <li>Add chicken and coconut milk; simmer until cooked and veggies tender.</li>
                <li>Finish with basil and fish sauce to taste.</li>
              </ol>
            </article>

            <article class="dish">
              <div class="meta">Som Tam (Green Papaya Salad)</div>
              <p><strong>Ingredients:</strong> Shredded green papaya, chili, garlic, tamarind, fish sauce, peanuts.</p>
              <ol>
                <li>Pound garlic and chili, add tamarind and fish sauce.</li>
                <li>Toss in shredded papaya and tomatoes; top with crushed peanuts.</li>
              </ol>
            </article>

            <article class="dish">
              <div class="meta">Mango Sticky Rice</div>
              <p><strong>Ingredients:</strong> Sticky rice, coconut milk, sugar, ripe mango.</p>
              <ol>
                <li>Cook sticky rice; warm coconut milk with sugar and salt.</li>
                <li>Pour coconut milk over rice, serve with sliced mango.</li>
              </ol>
            </article>
          </section>

          <!-- ========== VIETNAM ========== -->
          <section id="vietnam" class="panel">
            <h2>🇻🇳 Vietnam — 5 Classic Dishes</h2>

            <article class="dish">
              <div class="meta">Pho (Beef Noodle Soup)</div>
              <p><strong>Ingredients:</strong> Beef bones, rice noodles, star anise, cinnamon, ginger, thin-sliced beef.</p>
              <ol>
                <li>Simmer beef bones with aromatics (star anise, cinnamon) for hours to build broth.</li>
                <li>Blanch noodles; assemble with raw sliced beef and pour hot broth to cook beef.</li>
                <li>Garnish with herbs, lime and chili.</li>
              </ol>
            </article>

            <article class="dish">
              <div class="meta">Banh Mi</div>
              <p><strong>Ingredients:</strong> Crusty baguette, pickled vegetables, pâté, grilled pork.</p>
              <ol>
                <li>Prepare pickled carrot and daikon; grill marinated pork.</li>
                <li>Assemble sandwich with pâté, meats, pickles and herbs.</li>
              </ol>
            </article>

            <article class="dish">
              <div class="meta">Bun Cha</div>
              <p><strong>Ingredients:</strong> Grilled pork patties, vermicelli noodles, dipping sauce.</p>
              <ol>
                <li>Grill marinated pork; serve with cooked vermicelli and dipping sauce with vinegar and sugar.</li>
              </ol>
            </article>

            <article class="dish">
              <div class="meta">Goi Cuon (Fresh Spring Rolls)</div>
              <p><strong>Ingredients:</strong> Rice paper, prawns, pork slices, herbs, vermicelli.</p>
              <ol>
                <li>Soften rice paper, layer ingredients and roll tightly.</li>
                <li>Serve with peanut or hoisin dipping sauce.</li>
              </ol>
            </article>

            <article class="dish">
              <div class="meta">Ca Kho To (Caramelised Fish)</div>
              <p><strong>Ingredients:</strong> Fish, fish sauce, sugar, caramel, black pepper.</p>
              <ol>
                <li>Caramelise sugar in pot, add fish and seasoning with fish sauce.</li>
                <li>Simmer slowly until sauce thickens and fish absorbs flavours.</li>
              </ol>
            </article>
          </section>

          <!-- ========== SINGAPORE ========== -->
          <section id="singapore" class="panel">
            <h2>🇸🇬 Singapore — 5 Classic Dishes</h2>

            <article class="dish">
              <div class="meta">Hainanese Chicken Rice</div>
              <p><strong>Ingredients:</strong> Whole chicken, ginger, garlic, rice cooked in chicken stock.</p>
              <ol>
                <li>Poach chicken gently in flavoured stock; reserve stock for rice.</li>
                <li>Serve slices of chicken with fragrant rice and chili-garlic sauce.</li>
              </ol>
            </article>

            <article class="dish">
              <div class="meta">Chilli Crab</div>
              <p><strong>Ingredients:</strong> Fresh crab, tomato, chili, egg, vinegar.</p>
              <ol>
                <li>Stir-fry chili and tomato base, add crab and simmer until cooked.</li>
                <li>Finish with a beaten egg for a silky sauce; serve hot.</li>
              </ol>
            </article>

            <article class="dish">
              <div class="meta">Laksa (Katong Laksa)</div>
              <p><strong>Ingredients:</strong> Coconut milk, laksa paste, rice vermicelli, prawns.</p>
              <ol>
                <li>Cook laksa broth from paste and coconut milk; add proteins and noodles.</li>
              </ol>
            </article>

            <article class="dish">
              <div class="meta">Char Kway Teow (Singapore style)</div>
              <p><strong>Ingredients:</strong> Flat rice noodles, cockles, Chinese sausage, soy.</p>
              <ol>
                <li>High-heat wok-fry ingredients quickly; serve smoky and slightly sweet.</li>
              </ol>
            </article>

            <article class="dish">
              <div class="meta">Kaya Toast & Soft-boiled Eggs</div>
              <p><strong>Ingredients:</strong> Kaya jam (coconut-egg jam), bread, eggs.</p>
              <ol>
                <li>Toast bread, spread kaya and cold butter; serve with soft-boiled eggs and pepper.</li>
              </ol>
            </article>
          </section>

          <!-- ========== LAOS ========== -->
          <section id="laos" class="panel">
            <h2>🇱🇦 Laos — 5 Classic Dishes</h2>

            <article class="dish">
              <div class="meta">Larb (Meat Salad)</div>
              <p><strong>Ingredients:</strong> Minced meat, fish sauce, lime, toasted rice powder, herbs.</p>
              <ol>
                <li>Cook minced meat briefly; mix with lime, fish sauce and toasted rice powder.</li>
                <li>Add fresh herbs and serve with sticky rice.</li>
              </ol>
            </article>

            <article class="dish">
              <div class="meta">Tam Mak Hoong (Laab Papaya)</div>
              <p><strong>Ingredients:</strong> Shredded papaya, chili, fish sauce, lime, crushed peanuts.</p>
              <ol>
                <li>Pound chilies and garlic, toss with papaya and seasoning; serve fresh.</li>
              </ol>
            </article>

            <article class="dish">
              <div class="meta">Khao Piak Sen (Noodle Soup)</div>
              <p><strong>Ingredients:</strong> Rice noodles, chicken broth, garlic, herbs.</p>
              <ol>
                <li>Prepare a flavourful broth; add fresh rice noodles and shredded chicken.</li>
                <li>Garnish with green onions and fried garlic.</li>
              </ol>
            </article>

            <article class="dish">
              <div class="meta">Ping Kai (Grilled Chicken)</div>
              <p><strong>Ingredients:</strong> Whole chicken marinated with galangal, garlic and fish sauce.</p>
              <ol>
                <li>Marinate and grill until skin is charred and meat juicy; serve with spicy dipping.</li>
              </ol>
            </article>

            <article class="dish">
              <div class="meta">Or Lam (Spicy Stew)</div>
              <p><strong>Ingredients:</strong> Meat or fish, lemongrass, chilies, herbs, eggplant.</p>
              <ol>
                <li>Simmer ingredients with herbs and thicken slightly with crushed sticky rice if desired.</li>
              </ol>
            </article>
          </section>

          <!-- ========== CAMBODIA ========== -->
          <section id="cambodia" class="panel">
            <h2>🇰🇭 Cambodia — 5 Classic Dishes</h2>

            <article class="dish">
              <div class="meta">Amok Trey (Fish Amok)</div>
              <p><strong>Ingredients:</strong> Fish, coconut milk, kroeung paste (lemongrass, galangal), egg.</p>
              <ol>
                <li>Make kroeung paste; mix with fish and coconut milk.</li>
                <li>Steam in banana leaf cups until set; serve with rice.</li>
              </ol>
            </article>

            <article class="dish">
              <div class="meta">Samlor Korko</div>
              <p><strong>Ingredients:</strong> Mixed vegetables, fish paste, pumpkin, eggplant.</p>
              <ol>
                <li>Simmer vegetables with fish paste for an aromatic stew.</li>
              </ol>
            </article>

            <article class="dish">
              <div class="meta">Kuy Teav (Noodle Soup)</div>
              <p><strong>Ingredients:</strong> Beef/pork broth, rice noodles, herbs.</p>
              <ol>
                <li>Prepare clear broth; assemble noodles and top with meats and herbs.</li>
              </ol>
            </article>

            <article class="dish">
              <div class="meta">Lok Lak</div>
              <p><strong>Ingredients:</strong> Stir-fried beef with lime-pepper sauce.</p>
              <ol>
                <li>Stir-fry marinated beef quickly; serve with a pepper-lime dipping sauce.</li>
              </ol>
            </article>

            <article class="dish">
              <div class="meta">Nom Banh Chok (Khmer Noodles)</div>
              <p><strong>Ingredients:</strong> Rice noodles, fish-based green curry sauce, vegetables.</p>
              <ol>
                <li>Prepare green fish gravy; serve over cold rice noodles with raw vegetables.</li>
              </ol>
            </article>
          </section>

          <!-- ========== MYANMAR ========== -->
          <section id="myanmar" class="panel">
            <h2>🇲🇲 Myanmar — 5 Classic Dishes</h2>

            <article class="dish">
              <div class="meta">Mohinga</div>
              <p><strong>Ingredients:</strong> Fish broth, rice vermicelli, banana stem, chickpea flour.</p>
              <ol>
                <li>Make fragrant fish broth; add spices and chickpea thickener.</li>
                <li>Serve over noodles with garnishes like fried garlic and lime.</li>
              </ol>
            </article>

            <article class="dish">
              <div class="meta">Tea Leaf Salad (Lahpet)</div>
              <p><strong>Ingredients:</strong> Fermented tea leaves, nuts, sesame, garlic.</p>
              <ol>
                <li>Mix fermented tea leaves with crunchy peanuts, sesame and garlic; serve cold.</li>
              </ol>
            </article>

            <article class="dish">
              <div class="meta">Shan Noodles</div>
              <p><strong>Ingredients:</strong> Rice noodles, tomato-based sauce, shredded chicken or pork.</p>
              <ol>
                <li>Cook noodles; toss with saucy meat and garnish with herbs.</li>
              </ol>
            </article>

            <article class="dish">
              <div class="meta">Burmese Curry</div>
              <p><strong>Ingredients:</strong> Meat, turmeric, garlic oil, onions.</p>
              <ol>
                <li>Slow-cook meat with turmeric and a fragrant onion-garlic base.</li>
              </ol>
            </article>

            <article class="dish">
              <div class="meta">Htamin Jin (Fermented Rice Dish)</div>
              <p><strong>Ingredients:</strong> Fermented rice, fish sauce, shallot, herbs.</p>
              <ol>
                <li>Toss fermented rice with aromatics and serve as a tangy side.</li>
              </ol>
            </article>
          </section>

          <!-- ========== BRUNEI ========== -->
          <section id="brunei" class="panel">
            <h2>🇧🇳 Brunei — 5 Classic Dishes</h2>

            <article class="dish">
              <div class="meta">Ambuyat</div>
              <p><strong>Ingredients:</strong> Sago starch (ambuyat), served with sour sauce (cacah).</p>
              <ol>
                <li>Stir sago starch into boiling water until it forms a sticky, translucent mass.</li>
                <li>Eat by twirling with a bamboo fork and dipping into cacah (sour dipping sauce).</li>
              </ol>
            </article>

            <article class="dish">
              <div class="meta">Nasi Katok</div>
              <p><strong>Ingredients:</strong> Rice, fried chicken, sambal.</p>
              <ol>
                <li>Serve steamed rice with simple fried chicken and a spicy sambal.</li>
              </ol>
            </article>

            <article class="dish">
              <div class="meta">Soto Brunei</div>
              <p><strong>Ingredients:</strong> Chicken soup with local spices and rice.</p>
              <ol>
                <li>Simmer chicken with spices; serve with rice and condiments.</li>
              </ol>
            </article>

            <article class="dish">
              <div class="meta">Kelupis</div>
              <p><strong>Ingredients:</strong> Glutinous rice wrapped in nyirik leaves (or banana leaves).</p>
              <ol>
                <li>Steam glutinous rice wrapped in leaves until cooked.</li>
              </ol>
            </article>

            <article class="dish">
              <div class="meta">Hinava (Seafood dish)</div>
              <p><strong>Ingredients:</strong> Fresh fish, lime, shallot, chili.</p>
              <ol>
                <li>Marinate raw fish with lime and aromatics like shallot and chili; serve chilled.</li>
              </ol>
            </article>
          </section>

        </div>

        <!-- Sidebar: Submit form, forum, challenge -->
        <aside>
          <!-- Submit Recipe -->
          <section id="submit" class="panel">
            <h3>📤 Share Your Recipe (Anonymous)</h3>
            <form id="submit-form">
              <input id="r-name" type="text" placeholder="Recipe Name" required />
              <input id="r-country" type="text" placeholder="Country/Region" />
              <textarea id="r-story" rows="3" placeholder="Your Story or Notes (optional)"></textarea>
              <textarea id="r-steps" rows="4" placeholder="Ingredients & Steps (paste or type)"></textarea>
              <input id="r-image" type="file" accept="image/*" />
              <img id="preview" class="recipe-image-preview" style="display:none" alt="preview"/>
              <div style="display:flex; gap:8px; margin-top:8px">
                <button type="submit">Submit</button>
                <button id="clear-sub" type="button" class="secondary">Clear</button>
              </div>
              <p class="small note">Submissions are stored locally (anonymous). To make submissions public later, we can connect to Firebase or Supabase.</p>
            </form>
            <div id="submissions-list" style="margin-top:10px"></div>
          </section>

          <!-- Forum -->
          <section id="forum" class="panel">
            <h3>💬 Community Forum (No login)</h3>
            <form id="forum-form">
              <textarea id="forum-text" rows="3" placeholder="Share a tip, memory, or question..." required></textarea>
              <div style="display:flex; gap:8px; margin-top:8px">
                <button type="submit">Post</button>
                <button id="clear-forum" type="button" class="secondary">Clear All</button>
              </div>
            </form>
            <div id="forum-list" style="margin-top:12px"></div>
          </section>

          <!-- Recipe Revival Challenge -->
          <section id="challenge" class="panel">
            <h3>🏆 Recipe Revival Challenge</h3>
            <p><strong>This month:</strong> Recreate a forgotten home-recipe from your grandparents and share a photo + story.</p>
            <button id="enter-challenge">Submit an Entry</button>
            <p class="small note">Entries stored locally. Add email field later to collect winners (optional).</p>
          </section>

          <!-- Quick T.O.C. -->
          <section class="panel">
            <h3>Contents</h3>
            <div class="toc">
              <a href="#indonesia">Indonesia</a>
              <a href="#malaysia">Malaysia</a>
              <a href="#philippines">Philippines</a>
              <a href="#thailand">Thailand</a>
              <a href="#vietnam">Vietnam</a>
              <a href="#singapore">Singapore</a>
              <a href="#laos">Laos</a>
              <a href="#cambodia">Cambodia</a>
              <a href="#myanmar">Myanmar</a>
              <a href="#brunei">Brunei</a>
            </div>
          </section>
        </aside>
      </div>

    </main>

    <footer>
      <p>&copy; 2025 Taste of Heritage — Honouring culinary traditions.</p>
      <p class="small">Built as an offline-first demo. To publish content publicly, connect to a backend (Firebase / Supabase / simple GitHub-hosted JSON).</p>
    </footer>
  </div>

  <script>
    /* --------------------------
       Forum (localStorage)
       -------------------------- */
    const forumForm = document.getElementById('forum-form');
    const forumList = document.getElementById('forum-list');
    const FORUM_KEY = 'toh_forum_posts_v1';

    function loadForum(){
      forumList.innerHTML = '';
      const posts = JSON.parse(localStorage.getItem(FORUM_KEY) || '[]').reverse();
      posts.forEach(p=>{
        const div = document.createElement('div');
        div.className = 'forum-post';
        div.innerHTML = `<div style="font-size:13px;color:${'#7a6a5b'}">${new Date(p.t).toLocaleString()}</div><div style="margin-top:6px">${escapeHtml(p.text)}</div>`;
        forumList.appendChild(div);
      });
    }

    forumForm.addEventListener('submit', e=>{
      e.preventDefault();
      const text = document.getElementById('forum-text').value.trim();
      if(!text) return;
      const posts = JSON.parse(localStorage.getItem(FORUM_KEY) || '[]');
      posts.push({t:Date.now(), text});
      localStorage.setItem(FORUM_KEY, JSON.stringify(posts));
      document.getElementById('forum-text').value='';
      loadForum();
    });

    document.getElementById('clear-forum').addEventListener('click', ()=>{
      if(confirm('Clear all forum posts locally?')) {
        localStorage.removeItem(FORUM_KEY);
        loadForum();
      }
    });

    /* --------------------------
       Submissions (localStorage + image preview)
       -------------------------- */
    const subForm = document.getElementById('submit-form');
    const submissionsList = document.getElementById('submissions-list');
    const SUB_KEY = 'toh_submissions_v1';
    const preview = document.getElementById('preview');

    function loadSubs(){
      submissionsList.innerHTML='';
      const list = JSON.parse(localStorage.getItem(SUB_KEY) || '[]').reverse();
      list.forEach(s=>{
        const el = document.createElement('div');
        el.style.padding='8px';
        el.style.borderBottom='1px solid #eee';
        el.innerHTML = `<div style="font-weight:600">${escapeHtml(s.name||'(no name)')} — <span class="small">${escapeHtml(s.country||'')}</span></div>
                        <div style="font-size:13px;margin-top:6px">${escapeHtml(s.story||'')}</div>
                        <pre style="white-space:pre-wrap;background:#fff;padding:8px;border-radius:6px;margin-top:6px">${escapeHtml(s.steps||'')}</pre>
                        ${s.image?'<img src="'+s.image+'" style="max-width:100%;border-radius:6px;margin-top:6px"/>':''}`;
        submissionsList.appendChild(el);
      });
    }

    // image preview
    document.getElementById('r-image').addEventListener('change', function(){
      const f = this.files[0];
      if(!f){ preview.style.display='none'; preview.src=''; return; }
      const reader = new FileReader();
      reader.onload = ()=>{ preview.src = reader.result; preview.style.display='block' };
      reader.readAsDataURL(f);
    });

    subForm.addEventListener('submit', function(e){
      e.preventDefault();
      const name = document.getElementById('r-name').value.trim();
      const country = document.getElementById('r-country').value.trim();
      const story = document.getElementById('r-story').value.trim();
      const steps = document.getElementById('r-steps').value.trim();
      const f = document.getElementById('r-image').files[0];

      if(!name || !steps){ alert('Please provide at least recipe name and ingredients/steps.'); return; }

      if(f){
        const reader = new FileReader();
        reader.onload = ()=>{
          saveSubmission({name,country,story,steps,image:reader.result});
        };
        reader.readAsDataURL(f);
      } else {
        saveSubmission({name,country,story,steps,image:null});
      }
    });

    function saveSubmission(obj){
      const arr = JSON.parse(localStorage.getItem(SUB_KEY) || '[]');
      arr.push(Object.assign({t:Date.now()}, obj));
      localStorage.setItem(SUB_KEY, JSON.stringify(arr));
      subForm.reset();
      preview.style.display='none';
      loadSubs();
      alert('Recipe saved locally. To make it public, connect a backend.');
    }

    document.getElementById('clear-sub').addEventListener('click', ()=>{
      if(confirm('Clear local submissions?')) { localStorage.removeItem(SUB_KEY); loadSubs(); }
    });

    /* --------------------------
       Challenge button (quick demo)
       -------------------------- */
    document.getElementById('enter-challenge').addEventListener('click', ()=>{
      alert('To enter the challenge, please use the Share Recipe form and mention "Challenge" in the story.');
      location.hash = '#submit';
    });

    /* --------------------------
       Small helpers & init
       -------------------------- */
    function escapeHtml(s){ return String(s).replace(/[&<>"']/g, function(m){return {'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m]})}

    // placeholder language switch behavior: shows alert; real translations require JSON resources or server
    document.getElementById('lang').addEventListener('change', function(){
      const v = this.value;
      alert('Language switch placeholder: "'+v+'". I can add translations next (static or using i18n JSON).');
    });

    // initial load
    loadForum();
    loadSubs();

    // Accessibility: focus anchor links for keyboard users
    document.querySelectorAll('nav a, .country-nav a, .toc a').forEach(a=>{
      a.addEventListener('click', ()=>{ setTimeout(()=>{ document.activeElement.blur(); },300); });
    });
  </script>
</body>
</html>
